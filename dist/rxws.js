!function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=t(1),a=n(o),u=t(5),f=n(u),s=t(6),d=n(s),i=t(7),c=n(i),l=t(8),v=n(l),p=t(9),h=n(p),b=t(2),g=n(b);g["default"].remove=a["default"],g["default"].get=f["default"],g["default"].put=c["default"],g["default"].post=d["default"],g["default"].patch=h["default"],g["default"].head=v["default"],g["default"].setBackend=b.setBackend,g["default"].onNotification=b.onNotification,r["default"]=g["default"],e.exports=r["default"]},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r){return f["default"](a({},r,{resource:e,method:"remove"}))}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r["default"]=o;var u=t(2),f=n(u);e.exports=r["default"]},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e){return 1e3*(Math.log(e)+Math.random()*(e-1))}function u(e,r){var t=e.split(".");if(t.length>1&&!r)throw new Error("Invalid params: param is required for resource "+t[0]);t.forEach(function(e,t){if(t>0&&!r[e])throw new Error("Invalid params: param is required for resource "+e)})}function f(e){if(!e||!e.resource||!e.method)throw new Error("Invalid config",e);u(e.resource,e.parameters);var r=e.data;delete e.data;var t=m["default"](),n=e.resource.split(".");return"remove"===e.method&&(e.method="delete"),e.resource=e.method+"."+e.resource,delete e.method,x({header:h({},M,e,{correlationId:t}),body:o({},n[n.length-1],r)})}function s(e){O.write(JSON.stringify(e))}function d(e){var r=JSON.parse(e);r=P(r);var t=r,n=t.header;if(n.notification)return i(r);var o=j[n.correlationId];if(!o)throw new Error("No associated request for the server message",e);r.body.__header=r.header,200!==r.header.statusCode?(o.onError(r.body),o.onCompleted(r.body)):(o.onNext(r.body),o.onCompleted(r.body))}function i(e){s({header:h({},M,e.header)});var r=w[e.header.notification];r&&r.observer.onNext(e.body)}function c(){for(;_.length;)s(_.shift())}function l(e,r){var t=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=arguments.length<=3||void 0===arguments[3]?x:arguments[3],o=arguments.length<=4||void 0===arguments[4]?P:arguments[4];if(!r)throw new Error("No backend url provided");O=e,M=t,x=n,P=o,O.connect(r).retryWhen(function(e){return b.Observable.range(1,3e4).zip(e,function(e){return e}).flatMap(function(e){y=!1;var r=a(e);return console.log("delay retry by "+r+" second(s)"),b.Observable.timer(r)})}).subscribe(function(e){y=!0,c(),O.onMessage(d)})}function v(e){return w[e]?w[e].observable:(w[e]={observable:b.Observable.create(function(r){w[e].observer=r})},w[e].observable)}function p(e){if(!O)throw new Error("Must define a websocket backend");var r=f(e);return b.Observable.create(function(e){y?s(r):_.push(r),j[r.header.correlationId]=e})}Object.defineProperty(r,"__esModule",{value:!0});var h=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r.setBackend=l,r.onNotification=v,r["default"]=p;var b=t(3),g=t(4),m=n(g),O=void 0,y=!1,_=[],j={},w={},M={},x=function(e){return e},P=function(e){return e}},function(e,r){e.exports=rx},function(e,r){e.exports=uuid},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r){return f["default"](a({},r,{resource:e,method:"get"}))}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r["default"]=o;var u=t(2),f=n(u);e.exports=r["default"]},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r,t){return f["default"](a({},t,{resource:e,data:r,method:"post"}))}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r["default"]=o;var u=t(2),f=n(u);e.exports=r["default"]},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r,t){return f["default"](a({},t,{resource:e,data:r,method:"put"}))}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r["default"]=o;var u=t(2),f=n(u);e.exports=r["default"]},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r){return f["default"](a({},r,{resource:e,method:"head"}))}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r["default"]=o;var u=t(2),f=n(u);e.exports=r["default"]},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r,t){return f["default"](a({},t,{resource:e,data:r,method:"patch"}))}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r["default"]=o;var u=t(2),f=n(u);e.exports=r["default"]}]);
//# sourceMappingURL=rxws.js.map